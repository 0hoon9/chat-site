{"ast":null,"code":"var _jsxFileName = \"C:\\\\node\\\\chat-site\\\\client\\\\src\\\\screens\\\\Login.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport logo from '../assets/neco.png';\nimport { validateEmail, validateUsername } from '../utilities/validation';\nimport { LoginText } from '../components/LoginText';\nimport { login } from '../store/auth.slice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const [user, setUser] = useState({\n    email: '',\n    username: ''\n  });\n  const [errors, setErrors] = useState({});\n  const dispatch = useDispatch();\n\n  const validate = (name, value) => {\n    switch (name) {\n      case 'email':\n        setErrors({ ...errors,\n          [name]: validateEmail(value)\n        });\n        break;\n\n      case 'username':\n        setErrors({ ...errors,\n          [name]: validateUsername(value)\n        });\n        break;\n    }\n  };\n\n  const loginButtonDisabled = () => {\n    if (!user.email || !user.username) return true;\n    if (!!errors.email || errors.username) return true;\n    return false;\n  };\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUser({ ...user,\n      [name]: value\n    });\n\n    if (errors[name]) {\n      validate(name, value);\n    }\n  };\n\n  const handleBlur = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    validate(name, value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    dispatch(login(user)); // localStorage에 user정보 저장\n\n    localStorage.setItem('user', JSON.stringify(user));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen bg-blue-dark\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container bg-white m-4 p-12 w-500 text-center rounded-md shadow-2xl max-w-full mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        className: \"block mx-auto mb-3 text-center w-24\",\n        alt: \"Neco\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl mb-8 font-bold text-gray-700\",\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(LoginText, {\n          label: \"\\uC774\\uBA54\\uC77C\",\n          name: \"email\",\n          value: user.email,\n          placeholder: \"doge@example.com\",\n          onChange: handleChange,\n          onBlur: handleBlur,\n          error: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LoginText, {\n          label: \"\\uB2C9\\uB124\\uC784\",\n          name: \"password\",\n          value: user.username,\n          placeholder: \"\\uB2C9\\uB124\\uC784 \\uC785\\uB825\",\n          onChange: handleChange,\n          onBlur: handleBlur,\n          error: errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full px-3 py-4 text-white bg-blue font-medium rounded-md shadow-md hover:bg-blue-dark disabled:opacity-50 focus:outline-none\",\n            disabled: loginButtonDisabled(),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"LFAeLvaQ4FV/5aHG35sCc6DCVjc=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/node/chat-site/client/src/screens/Login.tsx"],"names":["React","useState","useDispatch","logo","validateEmail","validateUsername","LoginText","login","Login","user","setUser","email","username","errors","setErrors","dispatch","validate","name","value","loginButtonDisabled","handleChange","event","target","handleBlur","handleSubmit","preventDefault","localStorage","setItem","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport logo from '../assets/neco.png';\r\nimport { validateEmail, validateUsername } from '../utilities/validation';\r\nimport { LoginText } from '../components/LoginText';\r\nimport { login } from '../store/auth.slice';\r\n\r\nexport interface FormFields {\r\n  email: string;\r\n  username: string;\r\n}\r\n\r\nexport interface FormErrors {\r\n  email?: string;\r\n  username?: string;\r\n}\r\n\r\nexport const Login: React.FC = () => {\r\n  const [user, setUser] = useState<FormFields>({ email: '', username: '' });\r\n  const [errors, setErrors] = useState<FormErrors>({});\r\n  const dispatch = useDispatch();\r\n\r\n  const validate = (name: string, value: string) => {\r\n    switch (name) {\r\n      case 'email':\r\n        setErrors({ ...errors, [name]: validateEmail(value) });\r\n        break;\r\n      case 'username':\r\n        setErrors({ ...errors, [name]: validateUsername(value) });\r\n        break;\r\n    }\r\n  };\r\n\r\n  const loginButtonDisabled = () => {\r\n    if (!user.email || !user.username) return true;\r\n    if (!!errors.email || errors.username) return true;\r\n    return false;\r\n  };\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setUser({\r\n      ...user,\r\n      [name]: value,\r\n    });\r\n\r\n    if (errors[name as keyof FormErrors]) {\r\n      validate(name, value);\r\n    }\r\n  };\r\n\r\n  const handleBlur = (event: React.FocusEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    validate(name, value);\r\n  };\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    dispatch(login(user));\r\n\r\n    // localStorage에 user정보 저장\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n  };\r\n\r\n  return (\r\n    <div className='flex justify-center items-center h-screen bg-blue-dark'>\r\n      <div className='container bg-white m-4 p-12 w-500 text-center rounded-md shadow-2xl max-w-full mx-auto'>\r\n        <img src={logo} className='block mx-auto mb-3 text-center w-24' alt='Neco' />\r\n        <h1 className='text-3xl mb-8 font-bold text-gray-700'>로그인</h1>\r\n        <form onSubmit={handleSubmit}>\r\n          <LoginText\r\n            label='이메일'\r\n            name='email'\r\n            value={user.email}\r\n            placeholder='doge@example.com'\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            error={errors.email}\r\n          />\r\n          <LoginText\r\n            label='닉네임'\r\n            name='password'\r\n            value={user.username}\r\n            placeholder='닉네임 입력'\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            error={errors.username}\r\n          />\r\n          <div className='mb-3'>\r\n            <button\r\n              className='w-full px-3 py-4 text-white bg-blue font-medium rounded-md shadow-md hover:bg-blue-dark disabled:opacity-50 focus:outline-none'\r\n              disabled={loginButtonDisabled()}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}